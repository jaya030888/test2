<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Professional Quiz App</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Raleway:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">


  <style>
        *{
       font-family: "Raleway", sans-serif;
     }
     
    body {
      font-family: Arial, sans-serif;
      background-color: #ffffff;
      margin: 0;
      color: #111827;
    }

    /* HEADER STYLES */
    .quiz-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 15px 40px;
      border-bottom: 1px solid #e5e7eb;
    }

    .exit-btn {
      text-decoration: none;
      color: #4b5563;
      font-weight: 500;
      font-size: 16px;
    }

    .category-badge {
      background: #fef3c7;
      color: #92400e;
      padding: 4px 15px;
      border-radius: 20px;
      font-size: 14px;
      font-weight: bold;
    }

    .timer {
      color: #4b5563;
      font-weight: 500;
    }

    /* PROGRESS BAR STYLES */
    .progress-container {
      display: flex;
      align-items: center;
      padding: 20px 40px;
      gap: 20px;
    }

    .progress-track {
      flex-grow: 1;
      height: 8px;
      background: #f3f4f6;
      border-radius: 10px;
      overflow: hidden;
    }

    .progress-fill {
      height: 100%;
      background: #1ac315; /* Green Progress */
      width: 0%;
      transition: width 0.3s ease;
    }

    .question-count {
      font-size: 14px;
      color: #6b7280;
    }

    /* MAIN QUIZ CONTENT */
    .main-content {
      display: flex;
      justify-content: center;
      padding: 20px;
    }

    .quiz-card {
      width: 100%;
      max-width: 650px;
    }

    h2 {
      font-size: 24px;
      margin-bottom: 30px;
      line-height: 1.4;
    }

    .options-list {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .option-btn {
      display: flex;
      align-items: center;
      justify-content: space-between;
      width: 100%;
      padding: 18px;
      background: #f9fafb;
      border: 1px solid #e5e7eb;
      border-radius: 12px;
      cursor: pointer;
      font-size: 16px;
      transition: 0.2s;
    }

    .option-btn:hover:not(:disabled) {
      background: #f3f4f6;
    }

    .option-left {
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .option-circle {
      width: 30px;
      height: 30px;
      border-radius: 50%;
      background: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      color: #1ac315;
      border: 1px solid #e5e7eb;
    }

    /* CORRECT/WRONG FEEDBACK */
    .option-btn.correct {
      border: 2px solid #1ac315 !important;
      background: #ecfdf5 !important;
    }

    .option-btn.wrong {
      border: 2px solid #ef4444 !important;
      background: #fef2f2 !important;
    }

    .correct-label {
      background: #1ac315;
      color: white;
      font-size: 12px;
      padding: 4px 10px;
      border-radius: 20px;
      display: none;
    }

    .correct .correct-label {
      display: block;
    }

    .feedback-box {
      margin-top: 20px;
      padding: 15px;
      border-radius: 10px;
      background: #fef2f2;
      color: #ef4444;
      display: none; /* Hidden by default */
      align-items: center;
      gap: 10px;
    }

    /* NEXT BUTTON */
    #nextBtn {
      width: 100%;
      padding: 16px;
      background: #1ac315;
      color: white;
      border: none;
      border-radius: 10px;
      font-size: 18px;
      font-weight: bold;
      cursor: pointer;
      margin-top: 20px;
      display: none;
    }

    #nextBtn:hover {
      background: #059669;
    }
  </style>
</head>
<body>

  <div class="quiz-header">
    <a href="home.html" class="exit-btn">‚Üê Exit Quiz</a>
    <span class="category-badge">JavaScript</span>
    <div class="timer">üïí 10:00</div>
  </div>

  <div class="progress-container">
    <div class="progress-track">
      <div class="progress-fill" id="progressBar"></div>
    </div>
    <span class="question-count" id="progressText">Question 1 of 10</span>
  </div>

  <div class="main-content">
    <div class="quiz-card">
      <h2 id="questionText">Loading...</h2>
      
      <div class="options-list" id="optionsContainer"></div>

      <div id="wrongFeedback" class="feedback-box">
        <span>‚úñ</span>
        <span id="correctAnswerMsg"></span>
      </div>

      <button id="nextBtn">Next Question ‚Üí</button>
    </div>
  </div>

<script>
  let questions = [];
  let currentIndex = 0;
  let score = 0;

  const questionEl = document.getElementById("questionText");
  const optionsEl = document.getElementById("optionsContainer");
  const nextBtn = document.getElementById("nextBtn");
  const progressBar = document.getElementById("progressBar");
  const progressText = document.getElementById("progressText");
  const feedbackBox = document.getElementById("wrongFeedback");
  const correctMsg = document.getElementById("correctAnswerMsg");

  // Path to your questions folder
  async function loadData() {
    try {
      const response = await fetch("../questions/english/eng.json");
      questions = await response.json();
      displayQuestion();
    } catch (err) {
      questionEl.innerText = "Error: JSON file not found!";
    }
  }

  function displayQuestion() {
    // Reset for new question
    nextBtn.style.display = "none";
    feedbackBox.style.display = "none";
    optionsEl.innerHTML = "";
    
    const q = questions[currentIndex];
    questionEl.innerText = q.question;

    // Update Progress
    const percent = ((currentIndex + 1) / questions.length) * 100;
    progressBar.style.width = percent + "%";
    progressText.innerText = "Question " + (currentIndex + 1) + " of " + questions.length;

    q.options.forEach((opt, idx) => {
      const char = String.fromCharCode(65 + idx); // A, B, C, D
      const btn = document.createElement("button");
      btn.className = "option-btn";
      btn.innerHTML = `
        <div class="option-left">
          <div class="option-circle">${char}</div>
          <span>${opt}</span>
        </div>
        <div class="correct-label">Correct Answer</div>
      `;
      
      btn.onclick = () => handleChoice(btn, idx);
      optionsEl.appendChild(btn);
    });
  }

  function handleChoice(btn, idx) {
    const correctIdx = questions[currentIndex].answer;
    const allBtns = document.querySelectorAll(".option-btn");
    
    allBtns.forEach(b => b.disabled = true);

    if (idx === correctIdx) {
      btn.classList.add("correct");
      score++;
    } else {
      btn.classList.add("wrong");
      allBtns[correctIdx].classList.add("correct");
      
      // Show feedback box like in your screenshot
      feedbackBox.style.display = "flex";
      correctMsg.innerText = "Incorrect. The correct answer is: " + questions[currentIndex].options[correctIdx];
    }
    
    nextBtn.style.display = "block";
  }

  nextBtn.onclick = () => {
    currentIndex++;
    if (currentIndex < questions.length) {
      displayQuestion();
    } else {
      showResult();
    }
  };

  function showResult() {
    document.querySelector(".quiz-card").innerHTML = `
      <div style="text-align: center;">
        <h2>Quiz Completed!</h2>
        <p style="font-size: 20px;">Score: ${score} / ${questions.length}</p>
        <button onclick="location.reload()" id="nextBtn" style="display:block;">Restart</button>
      </div>
    `;
  }

  loadData();

document.addEventListener("keydown", function (event) {
  if (event.key === "Backspace") {
    const tag = event.target.tagName.toLowerCase();
    const isInput =
      tag === "input" ||
      tag === "textarea" ||
      event.target.isContentEditable;

    if (!isInput) {
      event.preventDefault(); // stop browser default
      window.history.back();  // go back
    }
  }
});
</script>

</body>
</html>